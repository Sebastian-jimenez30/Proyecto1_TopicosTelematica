@startuml SecuenviaClienteNodoDiagram
actor Cliente
participant "Nodo MOM A" as MOM_A
participant "Gestor de Recursos" as GR
participant "Broker de Mensajes" as BM
participant "Replicador" as RP
participant "Nodo MOM B" as MOM_B

Cliente -> MOM_A: POST /topics/notificaciones/messages
MOM_A -> GR: validar existencia del t贸pico

GR -> MOM_A: t贸pico NO existe localmente
MOM_A -> MOM_B: gRPC: reenviar mensaje a nodo que gestiona el t贸pico

MOM_B -> GR: validar t贸pico
GR -> BM: almacenar mensaje
BM -> RP: replicar mensaje

RP -> MOM_A: ACK
MOM_A -> Cliente: 200 OK - mensaje entregado
@enduml
